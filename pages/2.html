<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ä¼ä¸šæ‹†è§£æ–‡æ¡ˆç”Ÿæˆå™¨</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f9f9f9; }
    textarea, input[type="text"] { width: 100%; padding: 10px; margin: 8px 0; box-sizing: border-box; }
    label { font-weight: bold; }
    .section { margin-bottom: 20px; }
    .output { white-space: pre-wrap; background: #fff; border: 1px solid #ccc; padding: 10px; min-height: 200px; }
    .error { color: red; font-weight: bold; }
    .instructions { background: #eef; padding: 10px; border-left: 5px solid #88c; margin-top: 40px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h1>ä¼ä¸šæ‹†è§£æ–‡æ¡ˆç”Ÿæˆå™¨</h1>

  <div class="section">
    <label>ç²˜è´´æ•´è¡Œè¾“å…¥ï¼ˆæŒ‰ç©ºæ ¼æˆ–Tabåˆ†éš”ï¼‰ï¼š</label>
    <textarea id="fullInput" rows="8" placeholder="ä¼ä¸šæ‹†è§£ å°çº¢ä¹¦ Day4 - ä¼ä¸šæ–‡åŒ– æ˜¯ å·²å‡†å¤‡ ..."></textarea>
  </div>

  <button onclick="parseAndGenerate()">ç”Ÿæˆæ–‡æ¡ˆ</button>

  <h2>ç”Ÿæˆç»“æœï¼š</h2>
  <div class="output" id="result"></div>
  <div class="error" id="error"></div>

  <div class="instructions">
  ğŸ“ <strong>å¦‚ä½•åœ¨è®°äº‹æœ¬ä¸­ä¿®æ”¹æ¨¡ç‰ˆï¼Ÿ</strong>
  
  1. ç”¨è®°äº‹æœ¬æ‰“å¼€æœ¬ HTML æ–‡ä»¶ï¼ˆå³é”® â†’ ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼‰
  2. æ‰¾åˆ°è¿™æ®µä»£ç ï¼ˆè¿™æ˜¯æ–‡æ¡ˆæ¨¡ç‰ˆï¼‰ğŸ‘‡

  const output = `ä¼ä¸šæ‹†è§£ï½œã€Œ${title}ã€\n\nğŸ‘‡æœ¬æœŸå†…å®¹è¦ç‚¹æœ‰ï¼š${questions}\n\nâ€”â€”â€”\n\nâ–¼ é˜…è¯»æ–¹å¼\nâ¶ h5ï¼š${h5}\n\nâ· Notionï¼š${notion}\n\n${groupQuestion}æ¬¢è¿åœ¨ç¾¤é‡Œç•…æ‰€æ¬²è¨€~`;

  3. å¯è‡ªç”±ä¿®æ”¹ä¸Šé¢çš„æ–‡å­—ç»“æ„ï¼Œä¾‹å¦‚ï¼š
     - æŠŠ "ä¼ä¸šæ‹†è§£ï½œ" æ”¹æˆ "æœ¬æœŸå¯¼è¯»ï¼š"
     - æŠŠ Notion æ”¹æˆ "å¤‡ä»½é“¾æ¥"
     - æˆ–ä½¿ç”¨ Markdown é£æ ¼ï¼š `**é˜…è¯»æ–¹å¼ï¼š**\n- H5ï¼š[ç‚¹æ­¤é˜…è¯»](${h5})`
  4. ä¿å­˜ååŒå‡»æ‰“å¼€ï¼Œå³å¯ç”Ÿæ•ˆ

  âœ… å°æŠ€å·§ï¼šå¯ä»¥å¤šå¤åˆ¶ä¸€ä»½ä¿ç•™åŸå§‹ç‰ˆæœ¬ï¼Œæ–¹ä¾¿æ¢å¤ã€‚
  </div>

  <script>
    function parseAndGenerate() {
      const raw = document.getElementById("fullInput").value.trim();
      const fields = raw.split(/\s+/);

      if (fields.length < 15) {
        document.getElementById("error").textContent = "âŒ è¾“å…¥å­—æ®µæ•°é‡ä¸è¶³ï¼Œè¯·æ£€æŸ¥æ˜¯å¦ç¼ºå°‘å¿…è¦ä¿¡æ¯ã€‚";
        document.getElementById("result").textContent = "";
        return;
      }

      const title = [fields[1], fields[2], fields[3], fields[4]].join(" ");
      const h5 = fields[8];
      const notion = fields[9];

      const questionParts = fields.slice(13, fields.length - 1);
      let questions = questionParts.join(" ");
      questions = questions.replace(/(\dï¸âƒ£)/g, '\n$1');

      const groupQuestion = fields[fields.length - 1];

      const output = `ä¼ä¸šæ‹†è§£ï½œã€Œ${title}ã€\n\nğŸ‘‡æœ¬æœŸå†…å®¹è¦ç‚¹æœ‰ï¼š${questions}\n\nâ€”â€”â€”\n\nâ–¼ é˜…è¯»æ–¹å¼\nâ¶ h5ï¼š${h5}\n\nâ· Notionï¼š${notion}\n\n${groupQuestion}æ¬¢è¿åœ¨ç¾¤é‡Œç•…æ‰€æ¬²è¨€~`;

      document.getElementById("result").textContent = output;
      document.getElementById("error").textContent = "";
    }
  </script>
</body>
</html>
